Домашнее задание по курсу MS SQL Server Developer в OTUS.

Занятие "21 - queue sql server broker".

Реализуйте очередь для БД WideWorldImporters:
	
	1. Создайте очередь для формирования отчетов для клиентов по таблице Invoices. При вызове процедуры для создания отчета в очередь должна отправляться заявка.
	2. При обработке очереди создавайте отчет по количеству заказов (Orders) по клиенту за заданный период времени и складывайте готовый отчет в новую таблицу.
	3. Проверьте, что вы корректно открываете и закрываете диалоги и у нас они не копятся.
	
Под отчетом будем понимать запись с полями:
	
	1. id клиента,
	2. дата начала периода,
	3. дата конца периода,
	4. количество заказов.

Соответственно в новую таблицу *Sales.ReportInvoices* будем добавлять запись, которая содержит указанные выше поля и идентификатор запроса (заявки).

Для демонстрации нужно последовательно запустить скрипты:

	1. 10-ServiceBrokerEnableNik.sql

	2. 20-MessageTypeNik.sql

	3. 30-QueueNik.sql
	
	4. 40-SP_SendMessageNik.sql
	
	5. 50-SP_ReplyMessageNik.sql
	
	6. 60-SP_GetReplyMessageNik.sql
	
	7. 70-AlterQueueNik.sql
	
	8. 80-ExecSPNik.sql
	
	








